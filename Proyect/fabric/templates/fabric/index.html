{% extends 'base_fabric.html' %}

{% load static %}
{% load staticfiles %}
{% block content %}

    <div class="container">
        <div class="mx-auto text-center">
            <form method="post" action="{% url 'save' %}">
                {% csrf_token %}
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button class="btn btn-outline-primary btn-lg disabled" disabled id="pdf_btn" type="submit">PDF</button>
                    <button class="btn btn-outline-success btn-lg disabled" disabled id="save_btn" type="button" onclick="serialize()">Save</button>
                    <button class="btn btn-outline-warning btn-lg" type="button" onclick="main()">Play</button>
                </div>
            </form>
        </div>
    </div>
    <hr>
    <div class="container-fluid" width="100%" height="100%" style="min-height: 100%;min-width:100%;padding:0;">
        <canvas id="canvas"></canvas>
    </div>

    <script src="{% static 'fabric/main_fabric.js' %}" id="main_fabric" data-json_string="{{ json_string }}"></script>

    <style>
        * { margin: 0; padding: 0;}

        body, html { height:100%; }

        #container-fluid {
            position:absolute !important;
            width:100% !important;
            height:100% !important;
        }

    </style>
{% endblock %}